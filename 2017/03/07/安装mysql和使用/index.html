<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>安装mysql和使用 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="mysql下载mysqli地址：https://dev.mysql.com/downloads/mysql/
安装打开mysql的安装目录（mysql-5.7.17-winx64），复制一份 my-default.ini
并将其改名为my.ini 打开my.in文件修改如以下内容
123basedir = C:\wbroot\mysql-5.7.17-winx64datadir = C:\wbro">
<meta property="og:type" content="article">
<meta property="og:title" content="安装mysql和使用">
<meta property="og:url" content="zhou1996.github.io/2017/03/07/安装mysql和使用/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="mysql下载mysqli地址：https://dev.mysql.com/downloads/mysql/
安装打开mysql的安装目录（mysql-5.7.17-winx64），复制一份 my-default.ini
并将其改名为my.ini 打开my.in文件修改如以下内容
123basedir = C:\wbroot\mysql-5.7.17-winx64datadir = C:\wbro">
<meta property="og:updated_time" content="2017-03-07T03:30:58.632Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="安装mysql和使用">
<meta name="twitter:description" content="mysql下载mysqli地址：https://dev.mysql.com/downloads/mysql/
安装打开mysql的安装目录（mysql-5.7.17-winx64），复制一份 my-default.ini
并将其改名为my.ini 打开my.in文件修改如以下内容
123basedir = C:\wbroot\mysql-5.7.17-winx64datadir = C:\wbro">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="zhou1996.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-安装mysql和使用" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/07/安装mysql和使用/" class="article-date">
  <time datetime="2017-03-07T03:31:24.502Z" itemprop="datePublished">2017-03-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      安装mysql和使用
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h2><h3 id="下载mysqli"><a href="#下载mysqli" class="headerlink" title="下载mysqli"></a>下载mysqli</h3><pre><code>地址：https://dev.mysql.com/downloads/mysql/
</code></pre><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><pre><code>打开mysql的安装目录（mysql-5.7.17-winx64），复制一份 my-default.ini
并将其改名为my.ini 打开my.in文件修改如以下内容
</code></pre><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="attr">basedir</span> = C:\wbroot\mysql-<span class="number">5.7</span>.<span class="number">17</span>-winx64</div><div class="line"><span class="attr">datadir</span> = C:\wbroot\mysql-<span class="number">5.7</span>.<span class="number">17</span>-winx64\data</div><div class="line"><span class="attr">port</span> = <span class="number">3306</span></div></pre></td></tr></table></figure>
<pre><code>注意：路径根据mysqli安装路径来决定
</code></pre><h3 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h3><pre><code>在系统属性中的 path 中输入mysqli 安装的目录文件中bin的路径
启动管理员 并输入 mysqld -install 成功后输入net start mysql
显示启动成功。
</code></pre><h3 id="安装mysqli"><a href="#安装mysqli" class="headerlink" title="安装mysqli"></a>安装mysqli</h3><pre><code>1.打开mysqli 命令 net start mysql
2.关闭mysqli 命令 net stop mysql
</code></pre><h3 id="登录mysql"><a href="#登录mysql" class="headerlink" title="登录mysql"></a>登录mysql</h3><pre><code>1. mysqli -u root -p
2.设置密码 mysqladmin -u root password &quot;设置密码&quot;;
</code></pre><h3 id="mysql数据库相关操作"><a href="#mysql数据库相关操作" class="headerlink" title="mysql数据库相关操作"></a>mysql数据库相关操作</h3><pre><code>1.查看数据库 show databases;
2.创建一个数据库 create database 数据库名; 例creata database book;
3.删除一个数据库 drop database 数据库名;   例drop database book;
4.使用数据库 use 数据库名  例use book;
5.删除数据表 drop table 表名;
6.删除所有数据 delete from user;
</code></pre><h3 id="mysql数据表的相关操作"><a href="#mysql数据表的相关操作" class="headerlink" title="mysql数据表的相关操作"></a>mysql数据表的相关操作</h3><pre><code>1.创建表 create table book_version(id int,name varchar(20));
2.查看数据表 show sables;
3.查看表结构 desc user(表名);
+-------+-------------+------+-----+---------+-------+
| Field | Type        | Null | Key | Default | Extra |
+-------+-------------+------+-----+---------+-------+
| id    | int(11)     | YES  |     | NULL    |       |
| name  | varchar(20) | YES  |     | NULL    |       |
| sex   | char(1)     | YES  |     | NULL    |       |
+-------+-------------+------+-----+---------+-------+
Field：字段
Type：类型
Null：是否允许存储为空
Key：是否设置主键或外键
Default：默认
Extra：附加消息

补充：
一张表中只能有一个主键

4.查看表的详细信息 show create table `user\G`; 加上\G更容易查看详细信息

5.查询数据 select * form user;
6.向表中插入数据  insert into user(name) values(&quot;jack&quot;);
7.向表中插入多列数据 insert into user(id,name,age) values(1,&quot;jack&quot;,16);
8.消除记录中的重复数据 select distinct name from user;
9.from子句，限定的表名 select `Name` from world.user;
10.from子句，未限定的表名 select `Name` from user;
11.修改表中的数据 update user set age=25,name=&quot;Tam&quot; where id=2;(修改id=2的age和name字段的数据)
12.删除表中的数据 delete from user where id=1 and id=2;(删除id为1和2的表中数据)
13.删除表中所有数据 delete from user;
14.查询表中数据 select * from 表名 where 字段名
15.从下标1开始查找3个记录 select * from user limit 1,3
16.查询表里有多少条记录 select count(*) from user; 

在有聚合函数的情况下使用的判断语句having
分组查询每个组的最高成绩 select c_name,max(grade) from score group by c_name;
分组查询每个组的平均成绩 select c_name,avg(grade) as avg_grade(as avg_grade:别名) from score group by c_name;
union
</code></pre><h4 id="4-3-order-by语句"><a href="#4-3-order-by语句" class="headerlink" title="4.3 order by语句"></a>4.3 order by语句</h4><pre><code>1.order by 表名 asc|desc; //order by默认是升序的为asc，降序为desc
如：select * from user order by name desc;设置使用name排序,方式为降序 
</code></pre><h3 id="5-修改数据表结构"><a href="#5-修改数据表结构" class="headerlink" title="5.修改数据表结构"></a>5.修改数据表结构</h3><pre><code>+ 将id改成int(10) 修改指定字段的数据类型: alter table `user` modify `id` int(10);
+ 将增加一个age字段 alter table user add `age` int(2);
+ 将id设为主键 alter table user add primary key (id);
+ 将id设为唯一字段 alter table user add unique (id);
</code></pre><h3 id="mysql支持的存储引擎"><a href="#mysql支持的存储引擎" class="headerlink" title="mysql支持的存储引擎"></a>mysql支持的存储引擎</h3><pre><code>1.Myisan
2.InnoDB 主要使用这2个
</code></pre><h3 id="mysql忘记root密码"><a href="#mysql忘记root密码" class="headerlink" title="mysql忘记root密码"></a>mysql忘记root密码</h3><pre><code>1. 在DOS窗口下输入`net stop mysql` 
2. 开一个DOS窗口，这个需要切换到mysql的bin目录

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mysqld --skip-grant-tables;</div></pre></td></tr></table></figure>

不要关闭窗口
3. 再开一个DOS窗口，`mysql -u root` 
4. 输入
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">use mysql </div><div class="line">update mysql.user set authentication_string=password(&apos;123qwe&apos;) where user=&apos;root&apos; and Host = &apos;localhost&apos;; </div><div class="line">flush privileges; </div><div class="line">exit</div></pre></td></tr></table></figure>

5. 使用任务管理器，找到mysqld-nt的进程，结束进程
</code></pre><h3 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h3><pre><code>函数名称                    函数作用
min(filede_name)           求字段的最小值
max(filede_name)           求字段的最大值
</code></pre><h3 id="学生表相关查询"><a href="#学生表相关查询" class="headerlink" title="学生表相关查询"></a>学生表相关查询</h3><ol>
<li>查询student表的所有记录</li>
</ol>
<ul>
<li>select * from student;</li>
</ul>
<ol>
<li>查询student表的第2条到4条selec记录</li>
</ol>
<ul>
<li>select * from student limit 1,3;</li>
</ul>
<ol>
<li>从student表查询所有学生的学号（id）、姓名（name）和院系（department）的信息</li>
</ol>
<ul>
<li>select id,name,department from student;</li>
</ul>
<ol>
<li>从student表中查询slex计算机系和英语系的学生的信息</li>
</ol>
<ul>
<li>select * from student where department=”计算机系” or department=”英语系”;</li>
</ul>
<ol>
<li>从student表中查询年龄18~22岁的学生信息</li>
</ol>
<ul>
<li>select * from student where birth&lt;=1999 and birth&gt;=1995;</li>
</ul>
<ol>
<li>从score表中查询每个科目的最高分</li>
</ol>
<ul>
<li>select c_name,grade from score group by c_name;</li>
</ul>
<ol>
<li>查询都是湖南的学生的姓名、年龄、院系和考试科目及成绩</li>
</ol>
<ul>
<li>select student.id,name,address,birth,department,c_name,grade from student,score </li>
<li>where student.address like”湖南%” and student.id=score.stu_id;</li>
</ul>
<ol>
<li>查询计算机成绩低于95的学生信息</li>
</ol>
<ul>
<li>SELECT * FROM student WHERE id IN (SELECT stu_id FROM score WHERE c_name =”计算机” and grade&lt;95);</li>
</ul>
<ol>
<li>查询每个科目的最高成绩</li>
</ol>
<ul>
<li>select c_name,max(grade) from score group by c_name;</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="zhou1996.github.io/2017/03/07/安装mysql和使用/" data-id="cj07ngx3x000b4syee4p4uxfq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/03/08/PHP_MySqli/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          PHP数据库操作
        
      </div>
    </a>
  
  
    <a href="/2017/02/23/Verification(随机验证码)/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">随机验证码</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/03/08/PHP_MySqli/">PHP数据库操作</a>
          </li>
        
          <li>
            <a href="/2017/03/07/安装mysql和使用/">安装mysql和使用</a>
          </li>
        
          <li>
            <a href="/2017/02/23/Verification(随机验证码)/">随机验证码</a>
          </li>
        
          <li>
            <a href="/2016/12/23/js简介/">js简介</a>
          </li>
        
          <li>
            <a href="/2016/12/20/滚动条/">滚动条</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>